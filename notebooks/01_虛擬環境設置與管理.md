# 虛擬環境設置與管理

## 為什麼需要虛擬環境？

在 Python 開發中，虛擬環境（Virtual Environment）是一個獨立的 Python 運行環境，可以讓你在不同項目中使用不同版本的套件，避免套件之間的衝突。

## 創建虛擬環境

### Windows 系統

```bash
# 創建虛擬環境
python -m venv venv

# 啟動虛擬環境
venv\Scripts\activate

# 確認 Python 路徑
where python
```

### macOS/Linux 系統

```bash
# 創建虛擬環境
python3 -m venv venv

# 啟動虛擬環境
source venv/bin/activate

# 確認 Python 路徑
which python
```

## 管理套件

### 安裝套件

```bash
# 安裝單一套件
pip install package_name

# 安裝指定版本
pip install package_name==1.0.0

# 從 requirements.txt 安裝
pip install -r requirements.txt
```

### 導出環境套件

```bash
# 導出當前環境的套件清單
pip freeze > requirements.txt
```

## 退出虛擬環境

```bash
deactivate
```

## 刪除虛擬環境

直接刪除虛擬環境資料夾即可：

```bash
# Windows
rmdir /s /q venv

# macOS/Linux
rm -rf venv
```

## 使用 VS Code 與虛擬環境

1. 開啟 VS Code
2. 開啟專案資料夾
3. 按下 `Ctrl+Shift+P` 開啟命令面板
4. 搜尋並選擇 `Python: Select Interpreter`
5. 選擇虛擬環境中的 Python 直譯器（路徑會包含 `venv` 資料夾）

## 常見問題排解

### 無法啟動虛擬環境

如果遇到權限問題，請執行：

```bash
# Windows
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# macOS/Linux
chmod +x venv/bin/activate
```

### 虛擬環境中的套件找不到

確保已啟動虛擬環境，並且使用正確的 Python 直譯器。

## 進階用法

### 使用 virtualenvwrapper（可選）

```bash
# 安裝
pip install virtualenvwrapper-win  # Windows
pip install virtualenvwrapper     # macOS/Linux

# 創建環境
mkvirtualenv myenv

# 列出所有環境
workon

# 切換環境
workon myenv

# 離開環境
deactivate

# 刪除環境
rmvirtualenv myenv
```

## 最佳實踐

1. 每個專案都應該有自己的虛擬環境
2. 將 `venv/` 加入 `.gitignore`
3. 將 `requirements.txt` 加入版本控制
4. 在 `README.md` 中說明如何設置開發環境
